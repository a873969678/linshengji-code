(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-7e48"],{"2dj7":function(t,e,n){"use strict";e.__esModule=!0;var i=function(t){return t&&t.__esModule?t:{default:t}}(n("9dlP"));e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),(0,i.default)(t,s.key,s)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()},"6ato":function(t,e,n){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},"9dlP":function(t,e,n){t.exports={default:n("dixQ"),__esModule:!0}},F26c:function(t,e,n){},GmQU:function(t,e,n){"use strict";var i=n("Ojq4");n.n(i).a},IpAi:function(t,e,n){"use strict";n.r(e);var i=n("6ZY3"),s=n.n(i),r=n("6ato"),o=n.n(r),a=n("2dj7"),c=n.n(a),l={props:{success:{type:Function,default:function(){}}},data:function(){return{}},mounted:function(){this.start()},methods:{resets:function(){for(var t=document.getElementById("captcha");t.hasChildNodes();)t.removeChild(t.firstChild);this.start(),this.success(!1)},start:function(){!function(t){var e=42,n=10,i=300,r=155,a=Math.PI,l=e+2*n;function u(t,e){return Math.round(Math.random()*(e-t)+t)}function d(t){return document.createElement(t)}function f(t,e){t.classList.add(e)}function h(){return["https://picsum.photos/300/150/?image=1001","https://picsum.photos/300/150/?image=1002","https://picsum.photos/300/150/?image=1003","https://picsum.photos/300/150/?image=1004","https://picsum.photos/300/150/?image=1005","https://picsum.photos/300/150/?image=1006"][Math.floor(6*Math.random())]}function p(t,i,s,r){t.beginPath(),t.moveTo(s,r),t.lineTo(s+e/2,r),t.arc(s+e/2,r-n+2,n,0,2*a),t.lineTo(s+e/2,r),t.lineTo(s+e,r),t.lineTo(s+e,r+e/2),t.arc(s+e+n-2,r+e/2,n,0,2*a),t.lineTo(s+e,r+e/2),t.lineTo(s+e,r+e),t.lineTo(s,r+e),t.lineTo(s,r),t.fillStyle="#fff",t[i](),t.beginPath(),t.arc(s,r+e/2,n,1.5*a,.5*a),t.globalCompositeOperation="xor",t.fill()}function v(t,e){return t+e}function m(t){return t*t}var C=function(){function t(e){var n=e.el,i=e.onSuccess,s=e.onFail,r=e.onRefresh;o()(this,t),this.el=n,this.onSuccess=i,this.onFail=s,this.onRefresh=r}return c()(t,[{key:"init",value:function(){this.initDOM(),this.initImg(),this.draw(),this.bindEvents()}},{key:"initDOM",value:function(){var t=function(t,e){var n=d("canvas");return n.width=t,n.height=e,n}(i,r),e=t.cloneNode(!0),n=d("div"),o=d("div"),a=d("div"),c=d("div"),l=d("span"),u=d("span");e.className="block",n.className="sliderContainer",o.className="refreshIcon",a.className="sliderMask",c.className="slider",l.className="sliderIcon",u.innerHTML="向右滑动滑块填充拼图",u.className="sliderText";var f=this.el;f.appendChild(t),f.appendChild(o),f.appendChild(e),c.appendChild(l),a.appendChild(c),n.appendChild(a),n.appendChild(u),f.appendChild(n),s()(this,{canvas:t,block:e,sliderContainer:n,refreshIcon:o,slider:c,sliderMask:a,sliderIcon:l,text:u,canvasCtx:t.getContext("2d"),blockCtx:e.getContext("2d")})}},{key:"initImg",value:function(){var t=this,e=function(t){var e=d("img");return e.crossOrigin="Anonymous",e.onload=t,e.onerror=function(){e.src=h()},e.src=h(),e}(function(){t.canvasCtx.drawImage(e,0,0,i,r),t.blockCtx.drawImage(e,0,0,i,r);var s=t.y-2*n+2,o=t.blockCtx.getImageData(t.x,s,l,l);t.block.width=l,t.blockCtx.putImageData(o,0,s)});this.img=e}},{key:"draw",value:function(){this.x=u(l+10,i-(l+10)),this.y=u(10+2*n,r-(l+10)),p(this.canvasCtx,"fill",this.x,this.y),p(this.blockCtx,"clip",this.x,this.y)}},{key:"clean",value:function(){this.canvasCtx.clearRect(0,0,i,r),this.blockCtx.clearRect(0,0,i,r),this.block.width=i}},{key:"bindEvents",value:function(){var t=this;this.el.onselectstart=function(){return!1},this.refreshIcon.onclick=function(){t.reset(),"function"==typeof t.onRefresh&&t.onRefresh()};var e="",n="",s=[],r=!1;this.slider.addEventListener("mousedown",function(t){e=t.x,n=t.y,r=!0}),document.addEventListener("mousemove",function(o){if(!r)return!1;var a=o.x-e,c=o.y-n;if(a<0||a+38>=i)return!1;t.slider.style.left=a+"px";var l=240/260*a;t.block.style.left=l+"px",f(t.sliderContainer,"sliderContainer_active"),t.sliderMask.style.width=a+"px",s.push(c)}),document.addEventListener("mouseup",function(n){if(!r)return!1;if(r=!1,n.x===e)return!1;!function(t,e){t.classList.remove(e)}(t.sliderContainer,"sliderContainer_active"),t.trail=s;var i=t.verify(),o=i.spliced,a=i.TuringTest;o?a?(f(t.sliderContainer,"sliderContainer_success"),"function"==typeof t.onSuccess&&t.onSuccess()):(f(t.sliderContainer,"sliderContainer_fail"),t.text.innerHTML="再试一次",t.reset()):(f(t.sliderContainer,"sliderContainer_fail"),"function"==typeof t.onFail&&t.onFail(),setTimeout(function(){t.reset()},1e3))})}},{key:"verify",value:function(){var t=this.trail,e=t.reduce(v)/t.length,n=t.map(function(t){return t-e}),i=Math.sqrt(n.map(m).reduce(v)/t.length),s=parseInt(this.block.style.left);return{spliced:Math.abs(s-this.x)<10,TuringTest:e!==i}}},{key:"reset",value:function(){this.sliderContainer.className="sliderContainer",this.slider.style.left=0,this.block.style.left=0,this.sliderMask.style.width=0,this.clean(),this.img.src=h(),this.draw()}}]),t}();t.jigsaw={init:function(t){return new C(t).init()},reset:function(t){return new C(t).reset()}}}(window);var t=this;function e(){document.getElementById("msg").innerHTML="",t.success(!1)}jigsaw.init({el:document.getElementById("captcha"),onSuccess:function(){t.success(!0)},onFail:e,onRefresh:e})}}},u=(n("avue"),n("ZrdR")),d=Object(u.a)(l,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"codeY"},[e("div",{staticClass:"container"},[e("div",{staticStyle:{position:"relative"},attrs:{id:"captcha"}}),this._v(" "),e("div",{attrs:{id:"msg"}})])])}],!1,null,null,null);d.options.__file="code.vue";var f={components:{codes:d.exports},data:function(){return{}},created:function(){},methods:{success:function(t){}}},h=(n("GmQU"),Object(u.a)(f,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"matrixView"},[e("codes",{attrs:{success:this.success}})],1)},[],!1,null,"000fd4bc",null));h.options.__file="code.vue";e.default=h.exports},Ojq4:function(t,e,n){},Q8Yp:function(t,e,n){var i=n("zikX");i(i.S+i.F*!n("LSzb"),"Object",{defineProperty:n("hlhf").f})},avue:function(t,e,n){"use strict";var i=n("F26c");n.n(i).a},dixQ:function(t,e,n){n("Q8Yp");var i=n("12G+").Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}}}]);